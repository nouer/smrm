#!/usr/bin/env node
/**
 * smrm ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 * 100äººã®é¡§å®¢ Ã— å„100æ–½è¡“è¨˜éŒ²
 */
const crypto = require('crypto');
const fs = require('fs');
const path = require('path');

function uuid() { return crypto.randomUUID(); }
function pick(a) { return a[Math.floor(Math.random() * a.length)]; }
function pickN(a, n) { return [...a].sort(() => Math.random() - 0.5).slice(0, n); }
function randInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }
function randDate(sy, ey) {
    const s = new Date(sy, 0, 1), e = new Date(ey, 11, 31);
    const d = new Date(s.getTime() + Math.random() * (e.getTime() - s.getTime()));
    return d.toISOString().split('T')[0];
}
function padCode(n) { return 'C' + String(n).padStart(4, '0'); }

// ============================================================
// SVGç”»åƒç”Ÿæˆ
// ============================================================
function generateEmojiSvgDataUrl(emoji, bgColor, size) {
    const fontSize = Math.round(size * 0.4);
    const textY = Math.round(size * 0.58);
    const svg = `<svg xmlns="http://www.w3.org/2000/svg" width="${size}" height="${size}" viewBox="0 0 ${size} ${size}"><rect width="${size}" height="${size}" fill="${bgColor}"/><text x="${size/2}" y="${textY}" font-size="${fontSize}" text-anchor="middle">${emoji}</text></svg>`;
    return 'data:image/svg+xml;base64,' + Buffer.from(svg).toString('base64');
}

const FULL_IMAGE_SIZE = 800;
const THUMB_IMAGE_SIZE = 80;

// ============================================================
// ãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿
// ============================================================
const LAST_NAMES = [
    'ç”°ä¸­','å±±ç”°','ä½è—¤','éˆ´æœ¨','é«˜æ©‹','ä¼Šè—¤','æ¸¡è¾º','ä¸­æ‘','å°æ—','åŠ è—¤',
    'å‰ç”°','å±±æœ¬','æ¾æœ¬','äº•ä¸Š','æœ¨æ‘','æ—','æ¸…æ°´','å±±å£','é˜¿éƒ¨','æ± ç”°',
    'æ©‹æœ¬','æ£®','çŸ³å·','å‰ç”°','å°å·','è—¤ç”°','å²¡ç”°','å¾Œè—¤','é•·è°·å·','æ‘ä¸Š',
    'è¿‘è—¤','çŸ³äº•','æ–è—¤','å‚æœ¬','é è—¤','é’æœ¨','è—¤äº•','è¥¿æ‘','ç¦ç”°','å¤ªç”°',
    'ä¸‰æµ¦','å²¡æœ¬','æ¾ç”°','ä¸­å³¶','ä¸­é‡','åŸç”°','å°é‡','ç”°æ‘','ç«¹å†…','é‡‘å­',
    'å’Œç”°','ä¸­å±±','çŸ³ç”°','ä¸Šç”°','æ£®ç”°','åŸ','æŸ´ç”°','é…’äº•','å·¥è—¤','æ¨ªå±±',
    'å®®å´','å®®æœ¬','å†…ç”°','é«˜æœ¨','å®‰è—¤','å³¶ç”°','è°·å£','å¤§é‡','é«˜ç”°','ä¸¸å±±',
    'ä»Šäº•','æ²³é‡','è—¤åŸ','å°å³¶','ä¹…ä¿','æ¾äº•','åƒè‘‰','å²©å´','æ¡œäº•','æœ¨ä¸‹',
    'é‡å£','æ¾å°¾','èŠåœ°','é‡æ‘','æ–°äº•','æ¸¡éƒ¨','ä½ã€…æœ¨','æ‰å±±','å¤å·','å¹³é‡',
    'å±±ä¸‹','æœ¬ç”°','æ‰æœ¬','æµœç”°','é£¯ç”°','å¸‚å·','å¤§å¡š','æ­¦ç”°','æœ›æœˆ','å°å±±'
];
const KANA_LAST = [
    'ãŸãªã‹','ã‚„ã¾ã ','ã•ã¨ã†','ã™ãšã','ãŸã‹ã¯ã—','ã„ã¨ã†','ã‚ãŸãªã¹','ãªã‹ã‚€ã‚‰','ã“ã°ã‚„ã—','ã‹ã¨ã†',
    'ã‚ˆã—ã ','ã‚„ã¾ã‚‚ã¨','ã¾ã¤ã‚‚ã¨','ã„ã®ã†ãˆ','ãã‚€ã‚‰','ã¯ã‚„ã—','ã—ã¿ãš','ã‚„ã¾ãã¡','ã‚ã¹','ã„ã‘ã ',
    'ã¯ã—ã‚‚ã¨','ã‚‚ã‚Š','ã„ã—ã‹ã‚','ã¾ãˆã ','ãŠãŒã‚','ãµã˜ãŸ','ãŠã‹ã ','ã”ã¨ã†','ã¯ã›ãŒã‚','ã‚€ã‚‰ã‹ã¿',
    'ã“ã‚“ã©ã†','ã„ã—ã„','ã•ã„ã¨ã†','ã•ã‹ã‚‚ã¨','ãˆã‚“ã©ã†','ã‚ãŠã','ãµã˜ã„','ã«ã—ã‚€ã‚‰','ãµãã ','ãŠãŠãŸ',
    'ã¿ã†ã‚‰','ãŠã‹ã‚‚ã¨','ã¾ã¤ã ','ãªã‹ã˜ã¾','ãªã‹ã®','ã¯ã‚‰ã ','ãŠã®','ãŸã‚€ã‚‰','ãŸã‘ã†ã¡','ã‹ã­ã“',
    'ã‚ã ','ãªã‹ã‚„ã¾','ã„ã—ã ','ã†ãˆã ','ã‚‚ã‚ŠãŸ','ã¯ã‚‰','ã—ã°ãŸ','ã•ã‹ã„','ãã©ã†','ã‚ˆã“ã‚„ã¾',
    'ã¿ã‚„ã–ã','ã¿ã‚„ã‚‚ã¨','ã†ã¡ã ','ãŸã‹ã','ã‚ã‚“ã©ã†','ã—ã¾ã ','ãŸã«ãã¡','ãŠãŠã®','ãŸã‹ã ','ã¾ã‚‹ã‚„ã¾',
    'ã„ã¾ã„','ã“ã†ã®','ãµã˜ã‚ã‚‰','ã“ã˜ã¾','ãã¼','ã¾ã¤ã„','ã¡ã°','ã„ã‚ã•ã','ã•ãã‚‰ã„','ãã®ã—ãŸ',
    'ã®ãã¡','ã¾ã¤ãŠ','ããã¡','ã®ã‚€ã‚‰','ã‚ã‚‰ã„','ã‚ãŸã¹','ã•ã•ã','ã™ãã‚„ã¾','ãµã‚‹ã‹ã‚','ã²ã‚‰ã®',
    'ã‚„ã¾ã—ãŸ','ã»ã‚“ã ','ã™ãã‚‚ã¨','ã¯ã¾ã ','ã„ã„ã ','ã„ã¡ã‹ã‚','ãŠãŠã¤ã‹','ãŸã‘ã ','ã‚‚ã¡ã¥ã','ã“ã‚„ã¾'
];
const FIRST_M = ['å¤ªéƒ','ä¸€éƒ','å¥å¤ª','å¤§è¼”','ç¿”å¤ª','æ‹“ä¹Ÿ','ç›´æ¨¹','é”ä¹Ÿ','å’Œä¹Ÿ','é›„å¤ª','æ´‹å¹³','äº®','èª ','æµ©','å‰›','å­¦','ä¿®','åš','è±Š','æ­£','éš†','èŒ‚','é€²','å‹','æ¸…','å®Ÿ','å¼˜','æ˜','å…‰','ç§€æ¨¹','è£•ä»‹','åº·å¹³','æ…å¤ªéƒ','æ‚ å¤ª','é¢¯å¤ª','è“®','é™½æ–—','æœé™½','æ¹Š','æ¨¹','é™¸','æ‚ çœŸ','å¤§å’Œ','ç¿”','é™½ç¿”','çµç¿”','æ‚ äºº','é§¿','å£®å¤ª','å¥'];
const FIRST_F = ['èŠ±å­','ç¾å’²','é™½å­','æµå­','è£•å­','äº¬å­','å¹¸å­','å’Œå­','ç¯€å­','æ´‹å­','æ˜ç¾','ä¹…ç¾å­','çœŸç†å­','æ™ºå­','ç”±ç¾','ç›´ç¾','ç¾ç©‚','åƒæµ','ç†æµ','éº»è¡£','ã•ãã‚‰','çµè¡£','å‡›','é™½èœ','è‘µ','èŠ½ä¾','è‰å­','ç¾æœˆ','å¿ƒæ˜¥','æ¥“','æ','ç´¬','ç´éŸ³','å½©èŠ±','ç¾ç¾½','å„ªèŠ±','é¥','ä¸ƒæµ·','çœŸå¤®','æ„›èœ','èŠ½ç”Ÿ','æŸšå¸Œ','æ—¥å‘','çµèœ','æœ±è‰','ç¾æ¡œ','å’²è‰¯','èŠ±éŸ³','å¿ƒçµ','é‡Œå¥ˆ'];
const KANA_M = ['ãŸã‚ã†','ã„ã¡ã‚ã†','ã‘ã‚“ãŸ','ã ã„ã™ã‘','ã—ã‚‡ã†ãŸ','ãŸãã‚„','ãªãŠã','ãŸã¤ã‚„','ã‹ãšã‚„','ã‚†ã†ãŸ','ã‚ˆã†ã¸ã„','ã‚Šã‚‡ã†','ã¾ã“ã¨','ã²ã‚ã—','ã¤ã‚ˆã—','ã¾ãªã¶','ãŠã•ã‚€','ã²ã‚ã—','ã‚†ãŸã‹','ãŸã ã—'];
const KANA_F = ['ã¯ãªã“','ã¿ã•ã','ã‚ˆã†ã“','ã‘ã„ã“','ã‚†ã†ã“','ãã‚‡ã†ã“','ã•ã¡ã“','ã‹ãšã“','ã›ã¤ã“','ã‚ˆã†ã“','ã‚ã‘ã¿','ãã¿ã“','ã¾ã‚Šã“','ã¨ã‚‚ã“','ã‚†ã¿','ãªãŠã¿','ã¿ã»','ã¡ãˆ','ã‚Šãˆ','ã¾ã„'];

const PREFECTURES = ['æ±äº¬éƒ½','ç¥å¥ˆå·çœŒ','å¤§é˜ªåºœ','æ„›çŸ¥çœŒ','åŸ¼ç‰çœŒ','åƒè‘‰çœŒ','å…µåº«çœŒ','åŒ—æµ·é“','ç¦å²¡çœŒ','é™å²¡çœŒ','èŒ¨åŸçœŒ','åºƒå³¶çœŒ','äº¬éƒ½åºœ','å®®åŸçœŒ','æ–°æ½ŸçœŒ','é•·é‡çœŒ'];
const CITIES = ['ä¸­å¤®åŒºæœ¬ç”º1-2-3','æ¸¯åŒºå—é’å±±4-5-6','æ–°å®¿åŒºè¥¿æ–°å®¿7-8-9','æ¸‹è°·åŒºæµæ¯”å¯¿2-10-5','è±Šå³¶åŒºæ± è¢‹3-1-1','å“å·åŒºå¤§å´5-12-3','ä¸–ç”°è°·åŒºä¸‰è»’èŒ¶å±‹8-4-2','ç›®é»’åŒºè‡ªç”±ãŒä¸˜1-1-1','æ¨ªæµœå¸‚ä¸­åŒºå±±ä¸‹ç”º3-7-2','å·å´å¸‚ä¸­åŸåŒºå°æ‰6-9-1','åå¤å±‹å¸‚ä¸­åŒºæ „2-3-4','å¤§é˜ªå¸‚åŒ—åŒºæ¢…ç”°5-6-7','ç¥æˆ¸å¸‚ä¸­å¤®åŒºä¸‰å®®1-8-9','æœ­å¹Œå¸‚ä¸­å¤®åŒºå¤§é€š3-2-1','ç¦å²¡å¸‚åšå¤šåŒºåšå¤šé§…å‰4-5-6','ä»™å°å¸‚é’è‘‰åŒºä¸€ç•ªç”º7-8-9'];
const PRACTITIONERS = ['å±±ç”°å¤ªéƒ','ä½è—¤èŠ±å­','éˆ´æœ¨ä¸€éƒ','ç”°ä¸­ç¾å’²','é«˜æ©‹èª ','ä¼Šè—¤æ´‹å¹³','æ¸¡è¾ºç›´ç¾','ä¸­æ‘å¥å¤ª','å°æ—è£•å­','åŠ è—¤ä¿®'];

const OCCUPATIONS = ['ä¼šç¤¾å“¡','è‡ªå–¶æ¥­','ãƒ‘ãƒ¼ãƒˆãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ','ä¸»å©¦ãƒ»ä¸»å¤«','å…¬å‹™å“¡','å­¦ç”Ÿ','ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹','çµŒå–¶è€…','åŒ»ç™‚å¾“äº‹è€…','æ•™å“¡','çœ‹è­·å¸«','ä»‹è­·è·','é£²é£Ÿæ¥­','å»ºè¨­æ¥­','ITé–¢é€£','ç„¡è·','å¹´é‡‘ç”Ÿæ´»è€…'];
const REFERRAL_SOURCES = ['ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸','ç´¹ä»‹','ãƒãƒ©ã‚·','çœ‹æ¿','é€šã‚ŠãŒã‹ã‚Š','Googleãƒãƒƒãƒ—','SNS','ãƒ›ãƒƒãƒˆãƒšãƒƒãƒ‘ãƒ¼','ã‚¨ã‚­ãƒ†ãƒ³','å£ã‚³ãƒŸã‚µã‚¤ãƒˆ'];
const VISIT_MOTIVATIONS = ['è‚©ã“ã‚Š','è…°ç—›','é ­ç—›','ç–²åŠ´å›å¾©','ãƒªãƒ©ã‚¯ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³','å§¿å‹¢æ”¹å–„','ã‚¹ãƒãƒ¼ãƒ„ã‚±ã‚¢','ç”£å¾Œã‚±ã‚¢','å†·ãˆæ€§æ”¹å–„','ã‚€ãã¿æ”¹å–„','çœ¼ç²¾ç–²åŠ´','ä¸çœ æ”¹å–„'];

const ALLERGENS = [
    {allergen:'ã‚¹ã‚®èŠ±ç²‰',severity:'mild',note:'å­£ç¯€æ€§é¼»ç‚'},
    {allergen:'ãƒ€ãƒ‹',severity:'mild',note:'é€šå¹´æ€§é¼»ç‚'},
    {allergen:'ãƒã‚¦ã‚¹ãƒ€ã‚¹ãƒˆ',severity:'mild',note:'ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼æ€§é¼»ç‚'},
    {allergen:'åµ',severity:'moderate',note:'è•éº»ç–¹'},
    {allergen:'å°éº¦',severity:'severe',note:'ã‚¢ãƒŠãƒ•ã‚£ãƒ©ã‚­ã‚·ãƒ¼ãƒªã‚¹ã‚¯'},
    {allergen:'ãã°',severity:'severe',note:'é‡ç¯¤ãªã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼'},
    {allergen:'ç‰›ä¹³',severity:'mild',note:'è…¹éƒ¨è†¨æº€æ„Ÿ'},
    {allergen:'ã‚¨ãƒ“',severity:'moderate',note:'å£è…”ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼'},
    {allergen:'ãƒ©ãƒ†ãƒƒã‚¯ã‚¹',severity:'moderate',note:'æ¥è§¦æ€§çš®è†šç‚'},
    {allergen:'ãƒã‚³',severity:'mild',note:'æ¥è§¦ã§é¼»ç‚'},
    {allergen:'é‡‘å±',severity:'mild',note:'ãƒ‹ãƒƒã‚±ãƒ«ã«åå¿œ'},
    {allergen:'ã‚¢ãƒ­ãƒã‚ªã‚¤ãƒ«ï¼ˆãƒ©ãƒ™ãƒ³ãƒ€ãƒ¼ï¼‰',severity:'mild',note:'çš®è†šã«èµ¤ã¿ãŒå‡ºã‚‹'},
];

const MED_HISTORIES = [
    {condition:'é«˜è¡€åœ§ç—‡',note:'å†…æœåŠ ç™‚ä¸­'},
    {condition:'2å‹ç³–å°¿ç—…',note:'HbA1cç®¡ç†ä¸­'},
    {condition:'è„‚è³ªç•°å¸¸ç—‡',note:'ã‚¹ã‚¿ãƒãƒ³æœç”¨'},
    {condition:'æ°—ç®¡æ”¯å–˜æ¯',note:'å¸å…¥ã‚¹ãƒ†ãƒ­ã‚¤ãƒ‰ä½¿ç”¨'},
    {condition:'è…°æ¤æ¤é–“æ¿ãƒ˜ãƒ«ãƒ‹ã‚¢',note:'ä¿å­˜çš„åŠ ç™‚'},
    {condition:'å¤‰å½¢æ€§è†é–¢ç¯€ç—‡',note:'ãƒªãƒãƒ“ãƒªä¸­'},
    {condition:'ç‰‡é ­ç—›',note:'ç™ºä½œæ™‚ãƒˆãƒªãƒ—ã‚¿ãƒ³ä½¿ç”¨'},
    {condition:'éª¨ç²—é¬†ç—‡',note:'ãƒ“ã‚¹ãƒ›ã‚¹ãƒ›ãƒãƒ¼ãƒˆæœç”¨'},
    {condition:'äº”åè‚©ï¼ˆè‚©é–¢ç¯€å‘¨å›²ç‚ï¼‰',note:'ãƒªãƒãƒ“ãƒªæ­´ã‚ã‚Š'},
    {condition:'é ¸æ¤ç—‡',note:'çµŒéè¦³å¯Ÿä¸­'},
    {condition:'åéª¨ç¥çµŒç—›',note:'ãƒ–ãƒ­ãƒƒã‚¯æ³¨å°„æ­´ã‚ã‚Š'},
    {condition:'ç·šç¶­ç­‹ç—›ç—‡',note:'ãƒšã‚¤ãƒ³ã‚¯ãƒªãƒ‹ãƒƒã‚¯é€šé™¢ä¸­'},
    {condition:'è‡ªå¾‹ç¥çµŒå¤±èª¿ç—‡',note:'æ¼¢æ–¹è–¬æœç”¨ä¸­'},
    {condition:'æ›´å¹´æœŸéšœå®³',note:'ãƒ›ãƒ«ãƒ¢ãƒ³è£œå……ç™‚æ³•'},
    {condition:'èŠ±ç²‰ç—‡',note:'æ¯å¹´2-5æœˆã«æ‚ªåŒ–'},
];

// --- æ–½è¡“è¨˜éŒ²ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ---
const CHIEF_COMPLAINTS = [
    'è‚©ã“ã‚ŠãŒã²ã©ãã€é¦–ã¾ã§å¼µã£ã¦ã„ã‚‹ã€‚ãƒ‡ã‚¹ã‚¯ãƒ¯ãƒ¼ã‚¯ãŒç¶šã„ã¦ã„ã‚‹ã€‚',
    'è…°ãŒé‡ã„æ„Ÿã˜ãŒã™ã‚‹ã€‚æœèµ·ããŸæ™‚ãŒç‰¹ã«ã²ã©ã„ã€‚',
    'å³è‚©ãŒä¸ŠãŒã‚Šã«ãã„ã€‚ç€æ›¿ãˆã®æ™‚ã«ç—›ã¿ãŒã‚ã‚‹ã€‚',
    'é ­ç—›ãŒé€±ã«2-3å›ã‚ã‚‹ã€‚ã“ã‚ã‹ã¿ãŒã‚ºã‚­ã‚ºã‚­ã™ã‚‹ã€‚',
    'è¶³ãŒã‚€ãã‚€ã€‚ç‰¹ã«å¤•æ–¹ã«ã²ã©ããªã‚‹ã€‚é´ãŒãã¤ããªã£ãŸã€‚',
    'æœ€è¿‘ç–²ã‚Œã‚„ã™ã„ã€‚ã‚ˆãçœ ã‚Œãªã„ã€‚ä½“ãŒã ã‚‹ã„ã€‚',
    'èƒŒä¸­ã®ç—›ã¿ãŒç¶šã„ã¦ã„ã‚‹ã€‚çŒ«èƒŒãŒæ°—ã«ãªã‚‹ã€‚',
    'è†ãŒç—›ã„ã€‚éšæ®µã®æ˜‡ã‚Šé™ã‚ŠãŒã¤ã‚‰ã„ã€‚',
    'æ‰‹é¦–ãŒç—›ã„ã€‚ãƒ‘ã‚½ã‚³ãƒ³ã®ä½¿ã„ã™ãã ã¨æ€ã†ã€‚',
    'é¦–ã®å¾Œã‚ãŒå¼µã£ã¦ã„ã‚‹ã€‚å›ã™ã¨ã‚´ãƒªã‚´ãƒªã™ã‚‹ã€‚',
    'è‚¡é–¢ç¯€ãŒç¡¬ã„ã€‚é–‹è„šãŒã§ããªããªã£ãŸã€‚',
    'è¶³è£ãŒç—›ã„ã€‚æœã®ä¸€æ­©ç›®ãŒç‰¹ã«ã¤ã‚‰ã„ã€‚',
    'å…¨èº«ãŒã ã‚‹ã„ã€‚å­£ç¯€ã®å¤‰ã‚ã‚Šç›®ã§ä½“èª¿ãŒæ‚ªã„ã€‚',
    'ãµãã‚‰ã¯ããŒå¸¸ã«å¼µã£ã¦ã„ã‚‹ã€‚å¤œä¸­ã«ã¤ã‚‹äº‹ãŒã‚ã‚‹ã€‚',
    'ç”£å¾Œã®éª¨ç›¤ãŒæ°—ã«ãªã‚‹ã€‚è…°å›ã‚ŠãŒå®‰å®šã—ãªã„ã€‚',
    'é•·æ™‚é–“ã®ç«‹ã¡ä»•äº‹ã§è¶³è…°ãŒã¤ã‚‰ã„ã€‚',
    'ã‚¹ãƒãƒ¼ãƒ„ã®å¾Œã®ç­‹è‚‰ç—›ãŒé•·å¼•ãã€‚å›å¾©ãŒé…ã„ã€‚',
    'ç›®ã®ç–²ã‚ŒãŒã²ã©ã„ã€‚è‚©ã“ã‚Šã‚‚ä½µç™ºã—ã¦ã„ã‚‹ã€‚',
    'å†·ãˆæ€§ãŒã¤ã‚‰ã„ã€‚æ‰‹è¶³ãŒå¸¸ã«å†·ãŸã„ã€‚',
    'å§¿å‹¢ã®æ‚ªã•ã‚’æŒ‡æ‘˜ã•ã‚ŒãŸã€‚çŒ«èƒŒã‚’æ”¹å–„ã—ãŸã„ã€‚',
    'å‰å›ã®æ–½è¡“å¾Œã€èª¿å­ãŒè‰¯ã‹ã£ãŸã€‚ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã§æ¥é™¢ã€‚',
    'ç‰¹ã«æ°—ã«ãªã‚‹ç—‡çŠ¶ã¯ãªã„ã€‚å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã€‚',
    'å¯é•ãˆãŸã€‚é¦–ãŒå‹•ã‹ãªã„ã€‚',
    'é‹å‹•ä¸è¶³ã§å…¨èº«ãŒã‚¬ãƒã‚¬ãƒã€‚ã‚¹ãƒˆãƒ¬ãƒƒãƒã‚‚ã—ã¦ã„ãªã„ã€‚',
    'è‚©ç”²éª¨å‘¨ã‚ŠãŒé‡ã„ã€‚è…•ã‚’å›ã—ã«ãã„ã€‚',
    'ã‚¹ãƒˆãƒ¬ã‚¹ãŒæºœã¾ã£ã¦ã„ã¦ã€ä½“ãŒç·Šå¼µã—ã¦ã„ã‚‹ã€‚ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ãŸã„ã€‚',
    'ç”Ÿç†å‰ã§ä½“ãŒã‚€ãã‚“ã§ã„ã‚‹ã€‚è…°ã‚‚é‡ã„ã€‚',
    'ã‚´ãƒ«ãƒ•ã®å¾Œã€è…°ãŒç—›ããªã£ãŸã€‚ã‚¹ã‚¤ãƒ³ã‚°ã§ç„¡ç†ã—ãŸã€‚',
    'æŒ‡ãŒè…±é˜ç‚ãã¿ã€‚ã‚¹ãƒãƒ›ã®ä½¿ã„ã™ãã‹ã‚‚ã—ã‚Œãªã„ã€‚',
    'äº¤é€šäº‹æ•…å¾Œã®ãƒªãƒãƒ“ãƒªã§é€šé™¢ä¸­ã€‚é¦–ã¨è…°ã®èª¿å­ã‚’è¦‹ã¦ã»ã—ã„ã€‚',
];

const BODY_FINDINGS = [
    'åƒ§å¸½ç­‹ä¸Šéƒ¨ã®ç¡¬çµè‘—æ˜ã€‚è‚©ç”²æŒ™ç­‹ã«åœ§ç—›ã‚ã‚Šã€‚é ¸éƒ¨å›æ—‹åˆ¶é™ãªã—ã€‚',
    'è„ŠæŸ±èµ·ç«‹ç­‹ã®ç·Šå¼µ(+)ã€‚è…°éƒ¨å‚è„ŠæŸ±ç­‹ã«åœ§ç—›ã‚ã‚Šã€‚SLRãƒ†ã‚¹ãƒˆ(-)ã€‚',
    'å³è‚©é–¢ç¯€å¤–è»¢90åº¦ã§ç–¼ç—›ã€‚æ£˜ä¸Šç­‹ãƒ†ã‚¹ãƒˆ(+)ã€‚å¯å‹•åŸŸåˆ¶é™ã‚ã‚Šã€‚',
    'å¾Œé ­ä¸‹ç­‹ç¾¤ã®ç·Šå¼µ(+)ã€‚èƒ¸é–ä¹³çªç­‹ã®ç¡¬çµã‚ã‚Šã€‚åœ§ç—›(+)ã€‚',
    'ä¸¡ä¸‹è…¿ã®ã‚€ãã¿(+)ã€‚ãµãã‚‰ã¯ãã®å¼µã‚Šå¼·ã„ã€‚åœ§ç—•æ€§æµ®è…«(+)ã€‚',
    'å…¨ä½“çš„ã«ç­‹ç·Šå¼µãŒé«˜ã„ã€‚è‡ªå¾‹ç¥çµŒã®ä¹±ã‚ŒãŒç–‘ã‚ã‚Œã‚‹ã€‚',
    'èƒ¸æ¤å¾Œå¼¯å¢—å¼·ã€‚å¤§èƒ¸ç­‹çŸ­ç¸®(+)ã€‚è±å½¢ç­‹å¼±åŒ–ã€‚',
    'è†é–¢ç¯€ã«è…«è„¹ãªã—ã€‚å†…å´å´å‰¯é­å¸¯åœ§ç—›(+)ã€‚å¤§è…¿å››é ­ç­‹å¼±åŒ–ã€‚',
    'æ‰‹é–¢ç¯€èƒŒå±ˆã§ç–¼ç—›ã€‚å‰è…•ä¼¸ç­‹ç¾¤ã«ç¡¬çµã‚ã‚Šã€‚æ¡åŠ›ä½ä¸‹ã€‚',
    'é ¸éƒ¨å¾Œé¢ã®ç­‹ç·Šå¼µè‘—æ˜ã€‚æ¿çŠ¶ç­‹ãƒ»åŠæ£˜ç­‹ã«ç¡¬çµã€‚å¯å‹•åŸŸã‚„ã‚„åˆ¶é™ã€‚',
    'è‚¡é–¢ç¯€ã®å¯å‹•åŸŸåˆ¶é™ã‚ã‚Šã€‚å†…è»¢ç­‹ç¾¤ã®çŸ­ç¸®(+)ã€‚è…¸è…°ç­‹ç·Šå¼µã€‚',
    'è¶³åº•è…±è†œã®åœ§ç—›(+)ã€‚è¸µéª¨ä»˜ç€éƒ¨ã«åœ§ç—›ã€‚ã‚¢ãƒ¼ãƒä½ä¸‹ã€‚',
    'å…¨èº«ã®ç­‹ãƒˆãƒ¼ãƒ³ä½ä¸‹ã€‚è‚©ç”²å¸¯ã®ä¸‹åˆ¶(+)ã€‚å…¨ä½“çš„ã«æ°—è™šã®å°è±¡ã€‚',
    'è…“è…¹ç­‹ãƒ»ãƒ’ãƒ©ãƒ¡ç­‹ã®ç·Šå¼µ(+)ã€‚ã‚¢ã‚­ãƒ¬ã‚¹è…±ç¡¬åŒ–ã€‚è¶³é–¢ç¯€èƒŒå±ˆåˆ¶é™ã€‚',
    'éª¨ç›¤ã®å·¦å³å·®ã‚ã‚Šã€‚ä»™è…¸é–¢ç¯€ã®å¯å‹•æ€§ä½ä¸‹ã€‚è…¹ç›´ç­‹é›¢é–‹(+)ã€‚',
    'è…°éƒ¨ã®ç­‹ç·Šå¼µè‘—æ˜ã€‚è…¸è…°ç­‹ã®çŸ­ç¸®(+)ã€‚ãƒãƒ ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ã‚¿ã‚¤ãƒˆã€‚',
    'å¤§è…¿å››é ­ç­‹ãƒ»ãƒãƒ ã‚¹ãƒˆãƒªãƒ³ã‚°ã‚¹ã®å¼µã‚Šã€‚ç­‹è†œã®ç™’ç€æ„Ÿã‚ã‚Šã€‚',
    'çœ¼è¼ªç­‹å‘¨å›²ã®ç·Šå¼µã€‚å´é ­ç­‹ã®ç¡¬çµã€‚è‚©ç”²æŒ™ç­‹ã®ç·Šå¼µ(+)ã€‚',
    'æœ«æ¢¢ã®è¡€è¡Œä¸è‰¯ã€‚æ‰‹è¶³ã®å†·æ„Ÿ(+)ã€‚çš®è†šæ¸©ä½ä¸‹ã€‚',
    'è„ŠæŸ±ã®ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆä¸è‰¯ã€‚éª¨ç›¤å‰å‚¾ã€‚é ­éƒ¨å‰æ–¹åä½ã€‚',
    'å‰å›æ–½è¡“éƒ¨ä½ã®æ”¹å–„ç¢ºèªã€‚æ®‹å­˜ã™ã‚‹ç¡¬çµã¯è»½åº¦ã€‚',
    'è‘—æ˜ãªç•°å¸¸æ‰€è¦‹ãªã—ã€‚è»½åº¦ã®ç­‹ç·Šå¼µãŒå…¨ä½“çš„ã«ã‚ã‚‹ã€‚',
    'é ¸éƒ¨ã®æ€¥æ€§ç­‹ç·Šå¼µ(+)ã€‚å·¦å›æ—‹ã§ç–¼ç—›å¢—æ‚ªã€‚èƒ¸é–ä¹³çªç­‹ã‚¹ãƒ‘ã‚ºãƒ ã€‚',
    'å…¨èº«ã®ç­‹è†œã®æ»‘èµ°ä¸è‰¯ã€‚é–¢ç¯€å¯å‹•åŸŸã®å…¨èˆ¬çš„åˆ¶é™ã€‚',
    'è‚©ç”²éª¨ã®å¯å‹•æ€§ä½ä¸‹ã€‚å‰é‹¸ç­‹ã®å¼±åŒ–ã€‚ç¿¼çŠ¶è‚©ç”²ã‚ã‚Šã€‚',
    'åºƒèƒŒç­‹ãƒ»å¤§èƒ¸ç­‹ã®ç·Šå¼µ(+)ã€‚å‘¼å¸ãŒæµ…ã„ã€‚æ¨ªéš”è†œã®å‹•ãåˆ¶é™ã€‚',
    'éª¨ç›¤å‘¨å›²ã®ã‚€ãã¿(+)ã€‚ä»™éª¨å‘¨å›²ã®å†·ãˆã€‚è…°éƒ¨ã®é‡ã ã‚‹ã•ã€‚',
    'å›æ—‹ç­‹è…±æ¿ã®ç·Šå¼µ(+)ã€‚è…°æ–¹å½¢ç­‹ã®ç¡¬çµ(+)ã€‚ä½“å¹¹å›æ—‹åˆ¶é™ã‚ã‚Šã€‚',
    'å‰è…•å±ˆç­‹ç¾¤ã®ç¡¬çµã€‚æ¯æŒ‡çƒç­‹ã®ç·Šå¼µ(+)ã€‚ãƒ‰ã‚±ãƒ«ãƒãƒ³ç—…ç–‘ã„ã€‚',
    'é ¸éƒ¨ãƒ»èƒ¸æ¤ã®å¯å‹•åŸŸåˆ¶é™ã€‚å‚è„ŠæŸ±ç­‹ã®åºƒç¯„å›²ãªç·Šå¼µã€‚',
];

const TREATMENT_CONTENTS = [
    'åƒ§å¸½ç­‹ãƒ»è‚©ç”²æŒ™ç­‹ã‚’ä¸­å¿ƒã«æŒ‡åœ§ãƒ»æ‰æã€‚é ¸éƒ¨ã‚¹ãƒˆãƒ¬ãƒƒãƒã€‚è‚©ç”²éª¨ãƒ¢ãƒ“ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€‚',
    'è…°éƒ¨å‚è„ŠæŸ±ç­‹ã®æŒ‡åœ§ãƒ»æ‰æã€‚æ®¿ç­‹ãƒªãƒªãƒ¼ã‚¹ã€‚éª¨ç›¤èª¿æ•´ã€‚ã‚¹ãƒˆãƒ¬ãƒƒãƒæŒ‡å°ã€‚',
    'è‚©é–¢ç¯€ãƒ¢ãƒ“ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€‚æ£˜ä¸Šç­‹ãƒ»æ£˜ä¸‹ç­‹ã®ãƒªãƒªãƒ¼ã‚¹ã€‚å¯å‹•åŸŸè¨“ç·´ã€‚ãƒ†ãƒ¼ãƒ”ãƒ³ã‚°ã€‚',
    'å¾Œé ­ä¸‹ç­‹ç¾¤ãƒªãƒªãƒ¼ã‚¹ã€‚é ¸éƒ¨å…¨ä½“ã®ã‚¹ãƒˆãƒ¬ãƒƒãƒã€‚å´é ­ç­‹ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚',
    'ãƒªãƒ³ãƒ‘ãƒ‰ãƒ¬ãƒŠãƒ¼ã‚¸ãƒ¥ã€‚ä¸‹è…¿ã®ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚è¶³é–¢ç¯€ã®é‹å‹•ã€‚ç€åœ§æŒ‡å°ã€‚',
    'å…¨èº«ã®ãƒªãƒ©ã‚¯ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚è‡ªå¾‹ç¥çµŒèª¿æ•´ã®æ‰‹æŠ€ã€‚å‘¼å¸æ³•æŒ‡å°ã€‚',
    'èƒ¸æ¤ãƒ¢ãƒ“ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€‚å¤§èƒ¸ç­‹ã‚¹ãƒˆãƒ¬ãƒƒãƒã€‚è±å½¢ç­‹ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚ºæŒ‡å°ã€‚',
    'è†å‘¨å›²ã®ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚å¤§è…¿å››é ­ç­‹ã®å¼·åŒ–æŒ‡å°ã€‚ãƒ†ãƒ¼ãƒ”ãƒ³ã‚°ã€‚ã‚¢ã‚¤ã‚·ãƒ³ã‚°ã€‚',
    'å‰è…•ã®ãƒãƒƒã‚µãƒ¼ã‚¸ãƒ»ã‚¹ãƒˆãƒ¬ãƒƒãƒã€‚æ‰‹é–¢ç¯€ãƒ¢ãƒ“ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ã‚µãƒãƒ¼ã‚¿ãƒ¼æŒ‡å°ã€‚',
    'é ¸éƒ¨å¾Œé¢ã®æŒ‡åœ§ãƒ»æ‰æã€‚ç­‹è†œãƒªãƒªãƒ¼ã‚¹ã€‚ã‚¹ãƒˆãƒ¬ãƒƒãƒã€‚å§¿å‹¢æŒ‡å°ã€‚',
    'è‚¡é–¢ç¯€ãƒ¢ãƒ“ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€‚å†…è»¢ç­‹ã‚¹ãƒˆãƒ¬ãƒƒãƒã€‚è…¸è…°ç­‹ãƒªãƒªãƒ¼ã‚¹ã€‚é–‹è„šæŒ‡å°ã€‚',
    'è¶³åº•ã®æŒ‡åœ§ãƒ»ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚ã‚¢ãƒ¼ãƒã‚µãƒãƒ¼ãƒˆã€‚ãµãã‚‰ã¯ããƒãƒƒã‚µãƒ¼ã‚¸ã€‚',
    'å…¨èº«ã®çµŒçµ¡ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚æ°—è¡€ã®æµã‚Œã‚’æ”¹å–„ã€‚æ¸©ç¸æ–½è¡“ã€‚',
    'è…“è…¹ç­‹ãƒ»ãƒ’ãƒ©ãƒ¡ç­‹ã®æ‰æã€‚ã‚¢ã‚­ãƒ¬ã‚¹è…±ã‚¹ãƒˆãƒ¬ãƒƒãƒã€‚è¶³é–¢ç¯€ãƒ¢ãƒ“ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€‚',
    'éª¨ç›¤çŸ¯æ­£ã€‚ä»™è…¸é–¢ç¯€ã®èª¿æ•´ã€‚è…¹ç­‹ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚ºæŒ‡å°ã€‚éª¨ç›¤ãƒ™ãƒ«ãƒˆæŒ‡å°ã€‚',
    'è…°éƒ¨ã®æ·±å±¤ç­‹ãƒªãƒªãƒ¼ã‚¹ã€‚è…¸è…°ç­‹ã‚¹ãƒˆãƒ¬ãƒƒãƒã€‚ã‚³ã‚¢ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°æŒ‡å°ã€‚',
    'ç­‹è†œãƒªãƒªãƒ¼ã‚¹ï¼ˆå¤§è…¿éƒ¨ä¸­å¿ƒï¼‰ã€‚ã‚¹ãƒãƒ¼ãƒ„ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ã‚¹ãƒˆãƒ¬ãƒƒãƒæŒ‡å°ã€‚',
    'ã‚¢ã‚¤ãƒã‚¹ã‚¯æ¸©ç½¨æ³•ã€‚å´é ­éƒ¨ãƒ»å¾Œé ­éƒ¨ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚è‚©ç”²æŒ™ç­‹ãƒªãƒªãƒ¼ã‚¹ã€‚',
    'æœ«æ¢¢å¾ªç’°æ”¹å–„ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚æ¸©ç†±ç™‚æ³•ã€‚ã‚»ãƒ«ãƒ•ã‚±ã‚¢ï¼ˆå†·ãˆå¯¾ç­–ï¼‰æŒ‡å°ã€‚',
    'å§¿å‹¢çŸ¯æ­£æ–½è¡“ã€‚éª¨ç›¤ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆèª¿æ•´ã€‚æŠ—é‡åŠ›ç­‹ã®å¼·åŒ–æŒ‡å°ã€‚',
    'å‰å›æ–½è¡“éƒ¨ä½ã®ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—ã€‚æ®‹å­˜ç¡¬çµã®ãƒªãƒªãƒ¼ã‚¹ã€‚ã‚¹ãƒˆãƒ¬ãƒƒãƒç¢ºèªã€‚',
    'å…¨èº«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚è»½åº¦ã®ç­‹ç·Šå¼µã‚’ãƒªãƒªãƒ¼ã‚¹ã€‚',
    'é ¸éƒ¨ã®ã‚¢ã‚¤ã‚·ãƒ³ã‚°å¾Œã€ç­‹ã‚¹ãƒ‘ã‚ºãƒ ãƒªãƒªãƒ¼ã‚¹ã€‚è»½åº¦ã®ã‚¹ãƒˆãƒ¬ãƒƒãƒã€‚å®‰é™æŒ‡ç¤ºã€‚',
    'å…¨èº«ã®ç­‹è†œãƒªãƒªãƒ¼ã‚¹ã€‚é–¢ç¯€ãƒ¢ãƒ“ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ã‚»ãƒ«ãƒ•ã‚¹ãƒˆãƒ¬ãƒƒãƒæŒ‡å°ã€‚',
    'è‚©ç”²éª¨å‘¨å›²ã®å¾’æ‰‹ç™‚æ³•ã€‚å‰é‹¸ç­‹æ´»æ€§åŒ–ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚ºã€‚å£ãƒ—ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—æŒ‡å°ã€‚',
    'æ¨ªéš”è†œãƒªãƒªãƒ¼ã‚¹ã€‚èƒ¸éƒ­ãƒ¢ãƒ“ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€‚å‘¼å¸æ³•ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã€‚',
    'ãƒªãƒ³ãƒ‘ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚éª¨ç›¤å‘¨å›²ã®æ¸©ç†±ç™‚æ³•ã€‚è…°éƒ¨ã‚¹ãƒˆãƒ¬ãƒƒãƒã€‚',
    'ä½“å¹¹ã®ç­‹ãƒãƒ©ãƒ³ã‚¹èª¿æ•´ã€‚å›æ—‹é‹å‹•ã®ã‚¹ãƒˆãƒ¬ãƒƒãƒã€‚è…°æ–¹å½¢ç­‹ãƒªãƒªãƒ¼ã‚¹ã€‚',
    'å‰è…•ãƒ»æ‰‹éƒ¨ã®ãƒãƒƒã‚µãƒ¼ã‚¸ã€‚è…±é˜å‘¨å›²ã®ãƒªãƒªãƒ¼ã‚¹ã€‚ã‚¢ã‚¤ã‚·ãƒ³ã‚°ã€‚è£…å…·æŒ‡å°ã€‚',
    'è„ŠæŸ±å…¨ä½“ã®ãƒ¢ãƒ“ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã€‚å‚è„ŠæŸ±ç­‹ã®æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹ã€‚å§¿å‹¢æ•™è‚²ã€‚',
];

const AFTER_NOTES = [
    'æ–½è¡“å¾Œã€è‚©ã®å¯å‹•åŸŸæ”¹å–„ã€‚ã‚»ãƒ«ãƒ•ã‚¹ãƒˆãƒ¬ãƒƒãƒã‚’æ¯æ—¥è¡Œã†ã‚ˆã†æŒ‡å°ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'è…°éƒ¨ã®ç·Šå¼µè»½æ¸›ã€‚å…¥æµ´ã§ã—ã£ã‹ã‚Šæ¸©ã‚ã‚‹ã‚ˆã†æŒ‡å°ã€‚æ¬¡å›1é€±é–“å¾Œã€‚',
    'å¯å‹•åŸŸã‚„ã‚„æ”¹å–„ã€‚ç„¡ç†ãªå‹•ãã¯é¿ã‘ã‚‹ã‚ˆã†æŒ‡å°ã€‚æ¬¡å›1é€±é–“å¾Œã€‚',
    'é ­ç—›ã®è»½æ¸›ã‚ã‚Šã€‚ãƒ‡ã‚¹ã‚¯ãƒ¯ãƒ¼ã‚¯ä¸­ã®å§¿å‹¢ã«æ³¨æ„ã™ã‚‹ã‚ˆã†æŒ‡å°ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'ã‚€ãã¿è»½æ¸›ã€‚ç€åœ§ã‚½ãƒƒã‚¯ã‚¹ã®ç€ç”¨ã‚’æ¨å¥¨ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'å…¨èº«ã®ç·Šå¼µãŒç·©å’Œã€‚ç¡çœ ã®è³ªã‚’æ”¹å–„ã™ã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã€‚æ¬¡å›3é€±é–“å¾Œã€‚',
    'èƒ¸æ¤ã®å¯å‹•åŸŸæ”¹å–„ã€‚ãƒ‡ã‚¹ã‚¯ãƒ¯ãƒ¼ã‚¯ä¸­ã®ä¼‘æ†©ã‚¹ãƒˆãƒ¬ãƒƒãƒã‚’æŒ‡å°ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'è†ã®ç—›ã¿è»½æ¸›ã€‚å¤§è…¿å››é ­ç­‹ã®é‹å‹•ã‚’ç¶™ç¶šã™ã‚‹ã‚ˆã†æŒ‡å°ã€‚æ¬¡å›1é€±é–“å¾Œã€‚',
    'æ‰‹é¦–ã®ç—›ã¿è»½æ¸›ã€‚ãƒ‘ã‚½ã‚³ãƒ³ä½¿ç”¨æ™‚ã®æ‰‹é¦–ã®è§’åº¦ã‚’æŒ‡å°ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'é ¸éƒ¨ã®ç·Šå¼µç·©å’Œã€‚æ•ã®é«˜ã•ã‚’è¦‹ç›´ã™ã‚ˆã†ææ¡ˆã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'è‚¡é–¢ç¯€ã®å¯å‹•åŸŸæ”¹å–„ã€‚æ¯æ—¥ã®ã‚¹ãƒˆãƒ¬ãƒƒãƒã‚’ç¶™ç¶šã™ã‚‹ã‚ˆã†æŒ‡å°ã€‚æ¬¡å›3é€±é–“å¾Œã€‚',
    'è¶³è£ã®ç—›ã¿è»½æ¸›ã€‚ã‚¤ãƒ³ã‚½ãƒ¼ãƒ«ã®ä½¿ç”¨ã‚’æ¨å¥¨ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'å…¨èº«ã®ç–²åŠ´æ„Ÿè»½æ¸›ã€‚è¦å‰‡æ­£ã—ã„ç”Ÿæ´»ãƒªã‚ºãƒ ã‚’å¿ƒãŒã‘ã‚‹ã‚ˆã†æŒ‡å°ã€‚æ¬¡å›3é€±é–“å¾Œã€‚',
    'ãµãã‚‰ã¯ãã®å¼µã‚Šç·©å’Œã€‚å°±å¯å‰ã®ã‚¹ãƒˆãƒ¬ãƒƒãƒã‚’æŒ‡å°ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'éª¨ç›¤ã®ãƒãƒ©ãƒ³ã‚¹æ”¹å–„ã€‚éª¨ç›¤ãƒ™ãƒ«ãƒˆã®ç€ç”¨ã¨ä½“æ“ã‚’æŒ‡å°ã€‚æ¬¡å›1é€±é–“å¾Œã€‚',
    'è…°éƒ¨ã®ç–²åŠ´æ„Ÿè»½æ¸›ã€‚é•·æ™‚é–“ã®ç«‹ä½ã‚’é¿ã‘ã‚‹ã‚ˆã†æŒ‡å°ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'ç­‹è‚‰ç—›ã®è»½æ¸›ã€‚ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ã®é‡è¦æ€§ã‚’èª¬æ˜ã€‚æ¬¡å›ã¯è©¦åˆå¾Œã«æ¥é™¢ã€‚',
    'ç›®ã®ç–²ã‚Œãƒ»è‚©ã“ã‚Šè»½æ¸›ã€‚ç”»é¢ã¨ã®è·é›¢ã¨ãƒ–ãƒ«ãƒ¼ãƒ©ã‚¤ãƒˆå¯¾ç­–ã‚’æŒ‡å°ã€‚æ¬¡å›3é€±é–“å¾Œã€‚',
    'æ–½è¡“å¾Œã€æ‰‹è¶³ã®æ¸©ã‹ã•æ”¹å–„ã€‚å…¥æµ´ç¿’æ…£ã®è¦‹ç›´ã—ã‚’ææ¡ˆã€‚æ¬¡å›3é€±é–“å¾Œã€‚',
    'å§¿å‹¢ã®æ„è­˜å‘ä¸Šã€‚æ—¥å¸¸çš„ãªå§¿å‹¢ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’æŒ‡å°ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'çµŒéè‰¯å¥½ã€‚ç¾åœ¨ã®çŠ¶æ…‹ã‚’ç¶­æŒã€‚æ¬¡å›1ãƒ¶æœˆå¾Œã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã€‚',
    'è‰¯å¥½ãªçŠ¶æ…‹ã‚’ç¶­æŒã€‚æ¬¡å›1ãƒ¶æœˆå¾Œã€‚',
    'æ€¥æ€§æœŸã®ãŸã‚å®‰é™ã‚’æœ€å„ªå…ˆã€‚æ‚ªåŒ–ã—ãŸã‚‰æ•´å½¢å¤–ç§‘å—è¨ºã‚’å‹§ã‚ã‚‹ã€‚æ¬¡å›3æ—¥å¾Œã€‚',
    'å…¨èº«ã®æŸ”è»Ÿæ€§æ”¹å–„ã€‚æ—¥å¸¸çš„ãªã‚¹ãƒˆãƒ¬ãƒƒãƒã®ç¿’æ…£åŒ–ã‚’æŒ‡å°ã€‚æ¬¡å›3é€±é–“å¾Œã€‚',
    'è‚©ç”²éª¨ã®å‹•ãæ”¹å–„ã€‚å£ãƒ—ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—ã‚’1æ—¥20å›ç¶šã‘ã‚‹ã‚ˆã†æŒ‡å°ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'å‘¼å¸ãŒæ·±ããªã£ãŸã€‚è…¹å¼å‘¼å¸ã‚’æ„è­˜ã™ã‚‹ã‚ˆã†æŒ‡å°ã€‚æ¬¡å›3é€±é–“å¾Œã€‚',
    'ã‚€ãã¿æ”¹å–„ã€‚æ°´åˆ†æ‘‚å–ã¨é©åº¦ãªé‹å‹•ã‚’æ¨å¥¨ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'ä½“å¹¹ã®å®‰å®šæ€§æ”¹å–„ã€‚ã‚´ãƒ«ãƒ•å‰ã®ã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ—ã‚¹ãƒˆãƒ¬ãƒƒãƒã‚’æŒ‡å°ã€‚æ¬¡å›2é€±é–“å¾Œã€‚',
    'ç—›ã¿è»½æ¸›ã€‚ã‚¹ãƒãƒ›ã®æŒã¡æ–¹ãƒ»ä½¿ç”¨æ™‚é–“ã®è¦‹ç›´ã—ã‚’æŒ‡å°ã€‚æ¬¡å›1é€±é–“å¾Œã€‚',
    'å…¨ä½“çš„ãªæ”¹å–„ã‚ã‚Šã€‚é€±1å›ã®ãƒšãƒ¼ã‚¹ã§ç¶™ç¶šã‚’æ¨å¥¨ã€‚æ¬¡å›1é€±é–“å¾Œã€‚',
];

const TREATMENT_MENUS = [
    'å…¨èº«ã‚‚ã¿ã»ãã— 60åˆ†',
    'å…¨èº«ã‚‚ã¿ã»ãã— 90åˆ†',
    'ä¸ŠåŠèº«é›†ä¸­ã‚³ãƒ¼ã‚¹ 40åˆ†',
    'ä¸‹åŠèº«é›†ä¸­ã‚³ãƒ¼ã‚¹ 40åˆ†',
    'è‚©ã“ã‚Šãƒ»é¦–ã“ã‚Šé›†ä¸­ 30åˆ†',
    'è…°ç—›æ”¹å–„ã‚³ãƒ¼ã‚¹ 40åˆ†',
    'ãƒ˜ãƒƒãƒ‰ãƒãƒƒã‚µãƒ¼ã‚¸ 30åˆ†',
    'ãƒ•ãƒƒãƒˆã‚±ã‚¢ã‚³ãƒ¼ã‚¹ 40åˆ†',
    'ãƒªãƒ³ãƒ‘ãƒ‰ãƒ¬ãƒŠãƒ¼ã‚¸ãƒ¥ 60åˆ†',
    'éª¨ç›¤çŸ¯æ­£ã‚³ãƒ¼ã‚¹ 50åˆ†',
    'å§¿å‹¢æ”¹å–„ã‚³ãƒ¼ã‚¹ 60åˆ†',
    'ã‚¹ãƒãƒ¼ãƒ„ã‚±ã‚¢ã‚³ãƒ¼ã‚¹ 60åˆ†',
    'ç”£å¾Œã‚±ã‚¢ã‚³ãƒ¼ã‚¹ 50åˆ†',
    'ãƒªãƒ©ã‚¯ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ 90åˆ†',
    'ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ãƒ¼ã‚¹ 40åˆ†',
    'åˆå›ãŠè©¦ã—ã‚³ãƒ¼ã‚¹ 60åˆ†',
];

// ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒã‚¹ã‚¿ï¼ˆåå‰ã‹ã‚‰durationè§£æã€UUIDä»˜ä¸ï¼‰
function parseDuration(menuName) {
    const match = menuName.match(/(\d+)åˆ†/);
    return match ? parseInt(match[1], 10) : null;
}

const TREATMENT_MENU_MASTERS = TREATMENT_MENUS.map((name, i) => ({
    id: uuid(),
    name,
    defaultDuration: parseDuration(name),
    sortOrder: i
}));

const BODY_AREAS = ['é¦–','å³è‚©','å·¦è‚©','å³è…•','å·¦è…•','èƒŒä¸­ä¸Šéƒ¨','èƒŒä¸­ä¸‹éƒ¨','è…°','å³è‚¡é–¢ç¯€','å·¦è‚¡é–¢ç¯€','å³è†','å·¦è†','å³è¶³','å·¦è¶³','é ­','ãŠè…¹'];

// æ–½è¡“è¨˜éŒ²ç”¨çµµæ–‡å­—ï¼ˆ16ç¨®ï¼‰
const TREATMENT_EMOJIS = [
    { emoji: 'ğŸ’†', label: 'ãƒãƒƒã‚µãƒ¼ã‚¸', bg: '#FFE4C4' },
    { emoji: 'ğŸ’ª', label: 'ç­‹åŠ›', bg: '#E0F0FF' },
    { emoji: 'ğŸ¦´', label: 'éª¨æ ¼', bg: '#FFF8E1' },
    { emoji: 'ğŸ¦¶', label: 'è¶³éƒ¨', bg: '#F0E6FF' },
    { emoji: 'ğŸ§˜', label: 'ã‚¹ãƒˆãƒ¬ãƒƒãƒ', bg: '#E8F5E9' },
    { emoji: 'ğŸ¤•', label: 'ç—›ã¿', bg: '#FFEBEE' },
    { emoji: 'ğŸ©¹', label: 'å‡¦ç½®', bg: '#FFF3E0' },
    { emoji: 'ğŸ©º', label: 'æ¤œæŸ»', bg: '#E3F2FD' },
    { emoji: 'ğŸ”¥', label: 'æ¸©ç†±', bg: '#FBE9E7' },
    { emoji: 'â„ï¸', label: 'å†·å´', bg: '#E0F7FA' },
    { emoji: 'âš¡', label: 'é›»æ°—', bg: '#FFFDE7' },
    { emoji: 'ğŸŒ¿', label: 'ã‚¢ãƒ­ãƒ', bg: '#E8F5E9' },
    { emoji: 'ğŸ’¤', label: 'ãƒªãƒ©ãƒƒã‚¯ã‚¹', bg: '#EDE7F6' },
    { emoji: 'ğŸ¤²', label: 'æ‰‹æŠ€', bg: '#FFF8E1' },
    { emoji: 'âœ¨', label: 'æ”¹å–„', bg: '#FFFDE7' },
    { emoji: 'ğŸ§ ', label: 'ç¥çµŒ', bg: '#FCE4EC' },
];

// é¡§å®¢ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”¨çµµæ–‡å­—ï¼ˆ8ç¨®ï¼‰
const PROFILE_EMOJIS = [
    { emoji: 'ğŸ‘¤', label: '', bg: '#E8EAF6' },
    { emoji: 'ğŸ§‘', label: '', bg: '#E0F2F1' },
    { emoji: 'ğŸ‘©', label: '', bg: '#FCE4EC' },
    { emoji: 'ğŸ‘¨', label: '', bg: '#E3F2FD' },
    { emoji: 'ğŸ§“', label: '', bg: '#FFF8E1' },
    { emoji: 'ğŸ‘µ', label: '', bg: '#F3E5F5' },
    { emoji: 'ğŸ‘´', label: '', bg: '#E8F5E9' },
    { emoji: 'ğŸ™‚', label: '', bg: '#FFFDE7' },
];

function generateMediaRecord(parentId, parentType, emojiDef, createdAt, index) {
    return {
        id: uuid(),
        parentId,
        parentType,
        fileName: `sample_${parentType}_${String(index).padStart(4, '0')}.svg`,
        mimeType: 'image/svg+xml',
        dataUrl: generateEmojiSvgDataUrl(emojiDef.emoji, emojiDef.bg, FULL_IMAGE_SIZE),
        thumbnail: generateEmojiSvgDataUrl(emojiDef.emoji, emojiDef.bg, THUMB_IMAGE_SIZE),
        memo: emojiDef.label || '',
        createdAt
    };
}

// ============================================================
// ç”Ÿæˆé–¢æ•°
// ============================================================
function genPhone() {
    const area = pick(['03','06','045','052','048','043','078','011','092','022']);
    return `${area}-${randInt(1000,9999)}-${randInt(1000,9999)}`;
}

function generateCustomer(i) {
    const male = Math.random() < 0.5;
    const li = i % LAST_NAMES.length;
    const name = LAST_NAMES[li] + ' ' + pick(male ? FIRST_M : FIRST_F);
    const nameKana = KANA_LAST[li] + ' ' + pick(male ? KANA_M : KANA_F);
    const age = randInt(18, 80);
    const birthDate = `${2026-age}-${String(randInt(1,12)).padStart(2,'0')}-${String(randInt(1,28)).padStart(2,'0')}`;

    const allergies = Math.random() < 0.2 ? pickN(ALLERGENS, randInt(1,2)) : [];
    const medicalHistory = Math.random() < 0.4
        ? pickN(MED_HISTORIES, randInt(1,3)).map(h => ({condition:h.condition, note:h.note}))
        : [];
    const firstVisit = randDate(2022, 2025);
    const now = new Date().toISOString();

    return {
        id: uuid(), customerCode: padCode(i+1), name, nameKana,
        birthDate: Math.random() < 0.9 ? birthDate : null,
        gender: Math.random() < 0.85 ? (male ? 'male' : 'female') : '',
        phone: Math.random() < 0.9 ? genPhone() : null,
        email: Math.random() < 0.5 ? `customer${randInt(1,9999)}@example.com` : null,
        address: Math.random() < 0.7 ? pick(PREFECTURES)+pick(CITIES) : null,
        occupation: Math.random() < 0.7 ? pick(OCCUPATIONS) : null,
        referralSource: Math.random() < 0.6 ? pick(REFERRAL_SOURCES) : null,
        visitMotivation: Math.random() < 0.6 ? pick(VISIT_MOTIVATIONS) : null,
        firstVisitDate: firstVisit, practitioner: pick(PRACTITIONERS),
        memo: Math.random() < 0.15 ? pick([
            'å¦Šå¨ ä¸­ã®ãŸã‚è…¹è‡¥ä½ä¸å¯','ãƒšãƒ¼ã‚¹ãƒ¡ãƒ¼ã‚«ãƒ¼è£…ç€ï¼ˆé›»æ°—æ²»ç™‚ä¸å¯ï¼‰',
            'å¼·ã„åœ§ãŒè‹¦æ‰‹ã€‚ã‚½ãƒ•ãƒˆãªæ–½è¡“ã‚’å¸Œæœ›','ã‚¢ãƒ­ãƒNGã‚ã‚Šï¼ˆãƒ©ãƒ™ãƒ³ãƒ€ãƒ¼ï¼‰',
            'äºˆç´„æ™‚é–“ã«é…ã‚ŒãŒã¡ã€‚ç¢ºèªé›»è©±å¿…é ˆ','ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æ‰•ã„å¸Œæœ›',
            'é§è»Šå ´åˆ©ç”¨ã‚ã‚Š','ç´¹ä»‹å‰²å¼•é©ç”¨ä¸­','å›æ•°åˆ¸åˆ©ç”¨ä¸­ï¼ˆæ®‹ã‚Š5å›ï¼‰',
            'VIPé¡§å®¢ã€‚ç‰¹åˆ¥å¯¾å¿œ'
        ]) : null,
        allergies, medicalHistory,
        createdAt: new Date(firstVisit+'T09:00:00').toISOString(), updatedAt: now
    };
}

function generateTreatmentRecords(customer, count) {
    const records = [];
    const start = new Date(customer.firstVisitDate).getTime();
    const end = new Date('2026-02-15').getTime();
    const span = Math.max(1, end - start);

    for (let i = 0; i < count; i++) {
        const vd = new Date(start + (span / count) * i);
        vd.setHours(randInt(9,19), randInt(0,59), randInt(0,59));
        const ts = vd.toISOString();
        const idx = i % CHIEF_COMPLAINTS.length;

        const hasPain = Math.random() < 0.7;
        const hasStiffness = Math.random() < 0.8;
        const hasFatigue = Math.random() < 0.6;
        const numAreas = randInt(1, 5);

        const menuMaster = Math.random() < 0.8 ? pick(TREATMENT_MENU_MASTERS) : null;
        records.push({
            id: uuid(), customerId: customer.id, visitedAt: ts,
            chiefComplaint: CHIEF_COMPLAINTS[idx],
            bodyFindings: Math.random() < 0.85 ? BODY_FINDINGS[idx] : '',
            treatmentContent: TREATMENT_CONTENTS[idx],
            afterNotes: Math.random() < 0.9 ? AFTER_NOTES[idx] : '',
            treatmentMenuId: menuMaster ? menuMaster.id : null,
            treatmentMenu: menuMaster ? menuMaster.name : '',
            duration: menuMaster ? (menuMaster.defaultDuration || pick([30, 40, 50, 60, 90, 120])) : (Math.random() < 0.8 ? pick([30, 40, 50, 60, 90, 120]) : null),
            bodyCondition: {
                painLevel: hasPain ? randInt(0, 8) : null,
                stiffnessLevel: hasStiffness ? randInt(1, 9) : null,
                fatigueLevel: hasFatigue ? randInt(0, 7) : null,
                areas: pickN(BODY_AREAS, numAreas),
                notes: Math.random() < 0.3 ? pick([
                    'å³å´ã«åã£ãŸç—›ã¿','æœãŒç‰¹ã«ã²ã©ã„','å¤©å€™ã§å¤‰å‹•ã™ã‚‹',
                    'å‰å›ã‚ˆã‚Šæ”¹å–„','æ…¢æ€§çš„ãªç—‡çŠ¶','ã‚¹ãƒˆãƒ¬ã‚¹ã§æ‚ªåŒ–',
                    'é‹å‹•å¾Œã«æ‚ªåŒ–','é•·æ™‚é–“ã®åº§ä½ã§å¢—æ‚ª','ç”Ÿç†å‰ã«æ‚ªåŒ–'
                ]) : ''
            },
            createdAt: ts, updatedAt: ts
        });
    }
    return records;
}

// ============================================================
// ãƒ¡ã‚¤ãƒ³
// ============================================================
function main() {
    const N = 100, R = 100;
    console.log(`ç”Ÿæˆé–‹å§‹: é¡§å®¢${N} Ã— æ–½è¡“è¨˜éŒ²${R}`);

    const customers = [], treatmentRecords = [];
    for (let i = 0; i < N; i++) {
        if ((i+1) % 10 === 0) process.stdout.write(`  ${i+1}/${N}...\r`);
        const cust = generateCustomer(i);
        customers.push(cust);
        treatmentRecords.push(...generateTreatmentRecords(cust, R));
    }

    // ãƒ¡ãƒ‡ã‚£ã‚¢ç”Ÿæˆ
    const media = [];
    let mediaIndex = 0;

    // é¡§å®¢ã®30%ã«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ
    for (const cust of customers) {
        if (Math.random() < 0.3) {
            media.push(generateMediaRecord(
                cust.id, 'customer', pick(PROFILE_EMOJIS), cust.createdAt, ++mediaIndex
            ));
        }
    }

    // æ–½è¡“è¨˜éŒ²ã®20%ã«æ–½è¡“ç”»åƒ
    for (const rec of treatmentRecords) {
        if (Math.random() < 0.2) {
            media.push(generateMediaRecord(
                rec.id, 'treatment_record', pick(TREATMENT_EMOJIS), rec.createdAt, ++mediaIndex
            ));
        }
    }

    console.log(`  ãƒ¡ãƒ‡ã‚£ã‚¢ç”Ÿæˆ: ${media.length}ä»¶`);

    const data = {
        version: '1.0.0', appName: 'smrm', exportedAt: new Date().toISOString(),
        customers, treatmentRecords,
        treatmentMenus: TREATMENT_MENU_MASTERS,
        media,
        displaySettings: {
            id: 'display_settings',
            tabs: {
                customers: { visible: true, label: 'é¡§å®¢' },
                treatment: { visible: true, label: 'æ–½è¡“è¨˜éŒ²' },
                history: { visible: true, label: 'å±¥æ­´' },
                settings: { visible: true, label: 'è¨­å®š' }
            },
            fields: {}
        }
    };

    const out = path.join(__dirname, '..', 'local_app', 'sample_data.json');
    const json = JSON.stringify(data);
    fs.writeFileSync(out, json, 'utf8');
    const mb = (Buffer.byteLength(json) / 1024 / 1024).toFixed(1);
    console.log(`\nå®Œäº†ï¼ ${out}`);
    console.log(`  é¡§å®¢: ${customers.length}  æ–½è¡“è¨˜éŒ²: ${treatmentRecords.length}  ãƒ¡ãƒ‡ã‚£ã‚¢: ${media.length}`);
    console.log(`  ã‚µã‚¤ã‚º: ${mb} MB`);
}
main();
